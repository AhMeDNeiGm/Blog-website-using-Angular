<section>
    <div class="container ">
        <div class="row ">
            <div class="col-md-12 pt-2 mx-auto ">

                <div>
                    <input class="form-control my-4 w-25 mx-auto" placeholder="Search..." type="search" name="search"
                        id="search" [(ngModel)]="searchTerm">
                    <i class="pi pi-spin pi-spinner text-5xl"></i>
                </div>
                @if (!users) {
                }@else {
                <table class="table table-bordered text-center table-light table-striped">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>id</th>
                            <th>Name</th>
                            <th>Age</th>
                            <th>Country</th>
                            <th>Details</th>
                        </tr>
                        @for (user of users | search : searchTerm; track $index) {
                        <tr class="py-5">
                            <td>{{$index +1}}</td>
                            <td>{{user._id}}</td>
                            <td>{{user.name | shortText:3}}</td>
                            <td>{{user.age}}</td>
                            <td>{{user.location}}</td>
                            <td><a class="btn btn-outline-primary" routerLink="{{user._id}}"
                                    routerLinkActive="text-white" [routerLinkActiveOptions]="{exact:true}">Show</a>
                            </td>
                        </tr>
                        }
                        @empty {
                        <tr>
                            <td colspan="5">No data</td>
                        </tr>
                        }
                    </thead>
                </table>
                }

            </div>
        </div>
    </div>
</section>